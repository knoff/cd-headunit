# Конфигурация `/boot/device.conf`

Файл читается на первом запуске unit‑ом `device-init.service` и управляет:

- hostname и системным пользователем,
- внешней Wi‑Fi сетью (клиент),
- внутренней Wi‑Fi сетью (точка доступа),
- приоритетами маршрутов (через `dhcpcd.exit-hook`).

> ⚠️ **Важно**: из `deploy/pi-setup/device.conf.example` создайте **боевой** файл `/boot/device.conf` и заполните корректные значения.

## Переменные

| Переменная        | Обяз. | Пример              | Описание                                                                         |
| ----------------- | :---: | ------------------- | -------------------------------------------------------------------------------- |
| `SERIAL`          |  да   | `CDR-12340001`      | Серийный номер устройства (см. [naming_conventions.md](./naming_conventions.md)) |
| `DEVICE_HOSTNAME` |  да   | `headunit-12340001` | Имя хоста                                                                        |
| `USER_NAME`       |  да   | `coffee`            | Системный пользователь                                                           |
| `USER_PASSWORD`   |  да   | `coffee123`         | Пароль пользователя                                                              |
| `WIFI_SSID`       |  нет  | `CoffeeShopNet`     | Внешняя сеть (клиент)                                                            |
| `WIFI_PASS`       |  нет  | `secretwifi`        | Пароль внешней сети                                                              |
| `AP_SSID`         |  да   | `cdr12340001`       | SSID внутренней точки доступа                                                    |
| `AP_PASS`         |  да   | `brewme123`         | Пароль точки доступа                                                             |
| `AP_CHANNEL`      |  нет  | `6`                 | Канал AP                                                                         |
| `AP_ADDRESS`      |  да   | `192.168.50.1`      | IP точки доступа                                                                 |

## Рекомендации

- Значения `AP_SSID` и `MINIO_DOMAIN` формируйте по соглашениям из [naming_conventions.md](./naming_conventions.md).
- Если USB‑донгл отсутствует, AP поднимется на встроенном адаптере (`wlan0`). При наличии донгла — на `wlan1`.
