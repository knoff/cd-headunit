# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (v0.4.2)

–í HeadUnit OS —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ —Å–∏—Å—Ç–µ–º—ã (Generic Image) –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–∞–∂–¥–æ–º—É —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ü–∏—Ä–∞–º–∏–¥–∞ –ù–∞—Å—Ç—Ä–æ–µ–∫

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å–∫–∞–¥–Ω–æ–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (Overlay Configuration). –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏–º–µ—é—Ç —É—Ä–æ–≤–Ω–∏, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤—ã—à–µ.

| –£—Ä–æ–≤–µ–Ω—å             | –ò—Å—Ç–æ—á–Ω–∏–∫    | –ü—É—Ç—å                                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                              |
| :------------------ | :---------- | :------------------------------------ | :-------------------------------------------------------------------------------------------------------------------- |
| **1. User (RW)**    | –†–∞–∑–¥–µ–ª Data | `/data/configs/user_settings.json`    | –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º/—Å–µ—Ä–≤–∏—Å–Ω—ã–º –∏–Ω–∂–µ–Ω–µ—Ä–æ–º. –ü–µ—Ä–µ–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –û–°. **–í—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.** |
| **2. Factory (RO)** | –†–∞–∑–¥–µ–ª Root | `/etc/headunit/factory_defaults.json` | –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∑–∞—à–∏—Ç—ã–µ –≤ –æ–±—Ä–∞–∑ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ (–∏–∑ `headunit.conf`).                                                 |
| **3. Hardcoded**    | –ö–æ–¥ Python  | `system/lib/hu_config.py`             | –ê–≤–∞—Ä–∏–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–ª—É—á–∞–π –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.                                                            |

## üÜî –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –ø–æ **–°–µ—Ä–∏–π–Ω–æ–º—É –Ω–æ–º–µ—Ä—É (SN)**.

### –§–æ—Ä–º–∞—Ç

`CDR-SSSSNNNN`

- **CDR**: –ö–æ–¥ –º–æ–¥–µ–ª–∏/—Å–µ—Ä–∏–∏.
- **SSSS**: –ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ (4 —Ü–∏—Ñ—Ä—ã).
- **NNNN**: –ù–æ–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (4 —Ü–∏—Ñ—Ä—ã).

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ù–∞ –æ—Å–Ω–æ–≤–µ SN —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **Hostname:** `cdreborn-NNNN` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `cdreborn-0002`)
- **AP SSID:** `CDR-SSSSNNNN` (–∏–º—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å SN)
- **AP Password:** –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∏–∑ headuni.conf –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º

## üõ† –£—Ç–∏–ª–∏—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–í —Å–∏—Å—Ç–µ–º–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### 1. –ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (Wizard)

–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (TUI) –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫.

**–ó–∞–ø—É—Å–∫:**

```bash
sudo headunit-config
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –í–≤–æ–¥/–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–µ–º—É Wi-Fi (Client).
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ IP –∏ —Å—Ç–∞—Ç—É—Å–∞.

### 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ (Applier)

–§–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç JSON-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã (`/etc/hostname`, NetworkManager profiles).

**–ó–∞–ø—É—Å–∫:**

```bash
sudo headunit-apply-config
```

_–û–±—ã—á–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–ª–∏ –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –ú–∞—Å—Ç–µ—Ä–∞._

## üíæ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```text
/
‚îú‚îÄ‚îÄ data/ (p8)              # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª
‚îÇ   ‚îî‚îÄ‚îÄ configs/
‚îÇ       ‚îî‚îÄ‚îÄ user_settings.json  # <-- –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ
‚îú‚îÄ‚îÄ etc/
‚îÇ   ‚îî‚îÄ‚îÄ headunit/
‚îÇ       ‚îî‚îÄ‚îÄ factory_defaults.json # –ó–∞–≤–æ–¥—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
‚îÇ
‚îî‚îÄ‚îÄ usr/
    ‚îú‚îÄ‚îÄ local/bin/
    ‚îÇ   ‚îú‚îÄ‚îÄ headunit-config       # UI Wizard
    ‚îÇ   ‚îî‚îÄ‚îÄ headunit-apply-config # Backend Logic
    ‚îî‚îÄ‚îÄ lib/python3/dist-packages/
        ‚îî‚îÄ‚îÄ hu_config.py          # Shared Library
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

1. **–ü–µ—Ä–≤—ã–π —Å—Ç–∞—Ä—Ç (Provisioning):**

   - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å "–∑–∞–≤–æ–¥—Å–∫–∏–º" SN (–Ω–∞–ø—Ä–∏–º–µ—Ä, `CDR-00000000`).
   - `headunit-apply-config` –≤–∏–¥–∏—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∑–∞–≤–æ–¥—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
   - –ò–º—è —Ö–æ—Å—Ç–∞: `headunit-generic`.

2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**

   - –ò–Ω–∂–µ–Ω–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–æ–Ω—Å–æ–ª–∏.
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç `sudo headunit-config`.
   - –í–≤–æ–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π SN —Å —à–∏–ª—å–¥–∏–∫–∞.
   - –°–∫—Ä–∏–ø—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç SN –≤ `/data/...` –∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–µ—Ç—å.

3. **–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è:**

   - –ü—Ä–∏ –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–µ `headunit-apply-config` —Å—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `/data` –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏—Ö, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç JSON.
