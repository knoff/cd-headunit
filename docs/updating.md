# –ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π **Services** –∏ **App** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ (OTA).

## üìú –ú–∞–Ω–∏—Ñ–µ—Å—Ç—ã

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (App, Services) –æ–±—è–∑–∞–Ω –∏–º–µ—Ç—å —Ñ–∞–π–ª `manifest.json` –≤ –∫–æ—Ä–Ω–µ —Å–≤–æ–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

**–ü—Ä–∏–º–µ—Ä (`src/manifest.json`):**

```json
{
  "component": "app",
  "version": "0.5.1",
  "dependencies": {
    "services": ">=0.5.0"
  }
}
```

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (OTA)

1. **–ó–∞–≥—Ä—É–∑–∫–∞:** –ê–≥–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–∫–∞—á–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
2. **–†–∞—Å–ø–∞–∫–æ–≤–∫–∞:** –ê—Ä—Ö–∏–≤ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ `/data/components/<component>/<version>/`.
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ `manifest.json`.
4. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞:** –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.
5. **–õ–∏–Ω–∫–æ–≤–∫–∞:**
   - `headunit-boot-linker` –≤–∏–¥–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –≤ `/data`.
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤—ã–π App —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–∞—Ä—ã—Ö Services).
   - –ï—Å–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–∏–º–ª–∏–Ω–∫ `/run/headunit/active_...` –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä–æ–π (–∏–ª–∏ –∑–∞–≤–æ–¥—Å–∫–æ–π).

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Fallback

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í–µ—Ä—Å–∏–∏ –∏–∑ `/data` –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ `/opt` (Factory), –µ—Å–ª–∏ –∏—Ö –≤–µ—Ä—Å–∏—è –≤—ã—à–µ.
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –≤–µ—Ä—Å–∏—é OS –≤—ã—à–µ, —á–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –æ–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–æ.
- **Factory Reset:** –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `/data/components` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω–µ—Ç —Å–∏—Å—Ç–µ–º—É –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" (–≤–µ—Ä—Å–∏–∏ –∏–∑ `/opt`) –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–µ.
